<div class="w-[95%] mx-auto mt-3">
  @if (!isLoggedIn()) { <app-user-form />} @else{ @if(loadingSongs()){
  <div
    class="flex flex-col items-center justify-center w-fit mx-auto py-5 px-10"
  >
    <p class="text-center font-bold">Songs loading...</p>
    <div>
      <span class="loading loading-ball loading-lg"></span>
      <span class="loading loading-ball loading-lg"></span>
      <span class="loading loading-ball loading-lg"></span>
    </div>
  </div>
  }@else {
  <div class="flex flex-col">
    <app-storage-info />
    <div class="flex justify-between items-center my-2">
      <h1 class="font-bold text-2xl mb-2">
        {{ username() | titlecase }}'s Favorites
      </h1>
      <button class="btn" (click)="changeUser()">Change User</button>
    </div>
    <ul class="flex flex-col gap-1 mb-36">
      @for (song of songs(); track song.id) { @defer (on viewport){
      <li>
        <app-song [song]="song" [isFavoritePage]="true" />
      </li>
      }@placeholder {
      <p
        class="rounded-lg py-2 px-3 flex justify-between items-center bg-base-200"
      >
        Song is loading...
      </p>
      } } @empty {
      <p
        class="text-center my-3 font-bold p-3 bg-base-200 rounded-lg shadow-lg"
      >
        You have no music in your favorites, add some!
      </p>
      }
    </ul>
  </div>
  } }
</div>
