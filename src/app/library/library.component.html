<div class="w-[95%] mx-auto mt-16">
  @if (!isLoggedIn()) {<app-user-form /> } @else { @if(songsAreLoading()){
  <div class="flex justify-center w-fit mx-auto py-5 px-10">
    <span class="loading loading-ball loading-lg"></span>
    <span class="loading loading-ball loading-lg"></span>
    <span class="loading loading-ball loading-lg"></span>
  </div>
  } @else {
  <div class="flex flex-col">
    <app-storage-info />
    <div class="flex justify-between items-center my-2">
      <h1 class="font-bold text-2xl mb-2">
        {{ username() | titlecase }}'s Favorites
      </h1>
      <button class="btn" (click)="changeUser()">Change User</button>
    </div>
    <ul class="flex flex-col gap-1 mb-24">
      @for (song of songs(); track song.id) {
      <li>
        <app-song [song]="song" />
      </li>
      } @empty {
      <li class="text-center">Search for some songs</li>
      }
    </ul>
  </div>
  } }
</div>
@if (isServerDown()) {
<div class="flex justify-between my-3 items-center border border-primary p-3">
  <p class="font-bold text-2xl text-red-300">Server is down...</p>
  <button class="btn" (click)="reloadPage()">Reload Page</button>
</div>
}
